<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
  databaseURL: "https://YOUR_PROJECT_ID-default-rtdb.firebaseio.com",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT_ID.appspot.com",
  messagingSenderId: "SENDER_ID",
  appId: "APP_ID"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();
</script>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro Trading Dashboard</title>
<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:radial-gradient(circle at top,#111827,#020617);
  color:#e5e7eb;
}

/* Header */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px 20px;
  border-bottom:1px solid #1f2937;
}
.btn{
  padding:10px 18px;
  border-radius:20px;
  background:linear-gradient(135deg,#facc15,#f59e0b);
  color:#000;
  font-weight:bold;
  border:none;
  cursor:pointer;
}

/* Ticker */
.ticker{overflow:hidden;border-bottom:1px solid #1f2937}
.ticker-track{
  display:flex;
  gap:40px;
  padding:8px 0;
  animation:scroll 20s linear infinite;
}
.ticker span{white-space:nowrap;color:#22c55e;font-weight:bold}
@keyframes scroll{
  from{transform:translateX(100%)}
  to{transform:translateX(-100%)}
}

/* Hero */
.hero{
  height:60vh;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
}
.hero h1{font-size:3rem}
.hero p{color:#9ca3af;margin:15px 0 25px}

/* Dashboard */
.dashboard{
  max-width:1400px;
  margin:auto;
  padding:40px 15px;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(350px,1fr));
  gap:20px;
}
.card{
  background:#0f172a;
  padding:15px;
  border-radius:20px;
  box-shadow:0 0 40px rgba(0,0,0,.6);
}
.card h3{text-align:center;margin-bottom:10px}

table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  padding:8px;
  border-bottom:1px solid #1f2937;
}
.green{color:#22c55e}
.red{color:#ef4444}

footer{
  text-align:center;
  padding:20px;
  color:#9ca3af;
}
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
  <strong>⚡ Pro Trading</strong>
  <div>
    <button class="btn" onclick="login()">Login</button>
    <button class="btn" onclick="connectWallet()">Connect Wallet</button>
  </div>
</div>

<!-- TICKER -->
<div class="ticker">
  <div class="ticker-track">
    <span>BTC $<b id="btc"></b></span>
    <span>ETH $<b id="eth"></b></span>
    <span>LTC $<b id="ltc"></b></span>
    <span>XRP $<b id="xrp"></b></span>
    <span>GOLD $<b id="gold"></b></span>
    <span>SILVER $<b id="silver"></b></span>
    <span>PLATINUM $<b id="platinum"></b></span>
  </div>
</div>

<!-- HERO -->
<section class="hero">
  <div>
    <h1>All-in-One Trading Platform</h1>
    <p>Charts • Portfolio • Wallet</p>
    <a href="#markets"><button class="btn">Enter Dashboard</button></a>
  </div>
</section>

<!-- DASHBOARD -->
<section id="markets" class="dashboard">
  <div class="grid">

    <div class="card">
      <h3>Bitcoin (BTC/USD)</h3>
      <div id="tv-btc" style="height:400px"></div>
    </div>

    <div class="card">
      <h3>Ethereum (ETH/USD)</h3>
      <div id="tv-eth" style="height:400px"></div>
    </div>

    <div class="card">
      <h3>Litecoin (LTC/USD)</h3>
      <div id="tv-ltc" style="height:400px"></div>
    </div>

    <div class="card">
      <h3>XRP (XRP/USD)</h3>
      <div id="tv-xrp" style="height:400px"></div>
    </div>

    <div class="card">
      <h3>Gold (XAU/USD)</h3>
      <div id="tv-gold" style="height:400px"></div>
    </div>

    <div class="card">
      <h3>Silver (XAG/USD)</h3>
      <div id="tv-silver" style="height:400px"></div>
    </div>

    <div class="card">
      <h3>Platinum (XPT/USD)</h3>
      <div id="tv-platinum" style="height:400px"></div>
    </div>

    <!-- PORTFOLIO -->
    <div class="card">
      <h3>Portfolio</h3>
      <table>
        <tr><th>Asset</th><th>Amount</th><th>PnL</th></tr>
        <tr><td>BTC</td><td>0.25</td><td class="green">+12.4%</td></tr>
        <tr><td>ETH</td><td>2.1</td><td class="green">+6.8%</td></tr>
        <tr><td>LTC</td><td>10</td><td class="green">+3.2%</td></tr>
        <tr><td>XRP</td><td>500</td><td class="red">-2.1%</td></tr>
        <tr><td>GOLD</td><td>1.5 oz</td><td class="red">-1.2%</td></tr>
        <tr><td>SILVER</td><td>20 oz</td><td class="green">+0.5%</td></tr>
        <tr><td>PLATINUM</td><td>5 oz</td><td class="green">+1.1%</td></tr>
      </table>
    </div>

  </div>
</section>

<footer>© 2025 Pro Trading Dashboard</footer>

<!-- TradingView -->
<script src="https://s3.tradingview.com/tv.js"></script>
<script>
function tv(id,symbol){
  new TradingView.widget({
    autosize:true,
    symbol:symbol,
    interval:"15",
    theme:"dark",
    style:"1",
    container_id:id
  });
}

// Cryptocurrencies
tv("tv-btc","COINBASE:BTCUSD");
tv("tv-eth","COINBASE:ETHUSD");
tv("tv-ltc","COINBASE:LTCUSD");
tv("tv-xrp","COINBASE:XRPUSD");

// Metals
tv("tv-gold","OANDA:XAUUSD");
tv("tv-silver","OANDA:XAGUSD");
tv("tv-platinum","OANDA:XPTUSD");
</script>

<!-- LIVE PRICES -->
<script>
async function prices(){
  const d = await fetch(
    "https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,litecoin,ripple&vs_currencies=usd"
  ).then(r=>r.json());

  const btc=d.bitcoin.usd,
        eth=d.ethereum.usd,
        ltc=d.litecoin.usd,
        xrp=d.ripple.usd;

  const gold=(2350+Math.random()*5).toFixed(2);
  const silver=(28+Math.random()*0.5).toFixed(2);
  const platinum=(1020+Math.random()*5).toFixed(2);

  document.getElementById("btc").innerText=btc.toLocaleString();
  document.getElementById("eth").innerText=eth.toLocaleString();
  document.getElementById("ltc").innerText=ltc.toLocaleString();
  document.getElementById("xrp").innerText=xrp.toLocaleString();
  document.getElementById("gold").innerText=gold;
  document.getElementById("silver").innerText=silver;
  document.getElementById("platinum").innerText=platinum;
}
prices(); setInterval(prices,8000);
</script>

<!-- LOGIN + WALLET -->
<script>
function login(){
  localStorage.setItem("logged","yes");
  alert("Register first (real)");

  <div class="card">
  <h3>Register</h3>
  <input id="reg-email" type="email" placeholder="Email">
  <input id="reg-pass" type="password" placeholder="Password">
  <button class="btn" onclick="registerUser()">Register</button>
</div>

<div class="card">
  <h3>Login</h3>
  <input id="login-email" type="email" placeholder="Email">
  <input id="login-pass" type="password" placeholder="Password">
  <button class="btn" onclick="loginUser()">Login</button>
</div>

}
<script>
function registerUser(){
  const email = document.getElementById("reg-email").value;
  const password = document.getElementById("reg-pass").value;
  
  firebase.auth().createUserWithEmailAndPassword(email, password)
    .then(userCredential => {
      const user = userCredential.user;
      // Save initial portfolio
      firebase.database().ref('users/' + user.uid).set({
        portfolio: { BTC:0, ETH:0, GOLD:0 },
        created: new Date().toISOString()
      });
      alert("Registration successful!");
    })
    .catch(error => alert(error.message));
}

function loginUser(){
  const email = document.getElementById("login-email").value;
  const password = document.getElementById("login-pass").value;
  
  firebase.auth().signInWithEmailAndPassword(email, password)
    .then(userCredential => {
      const user = userCredential.user;
      alert("Login successful!");
      // You can now load the portfolio for this user
      loadPortfolio(user.uid);
    })
    .catch(error => alert(error.message));
}

// Example: load user portfolio and populate table
  
async function loadPortfolio(uid){
  const snapshot = await db.ref('users/' + uid + '/portfolio').get();
  if(snapshot.exists()){
    const portfolio = snapshot.val();
    console.log("Portfolio:", portfolio);
    // Update your portfolio table here
  }
}
</script>

async function connectWallet(){
  if(!window.ethereum){
    alert("MetaMask not installed");
    return;
  }
  const accounts = await ethereum.request({method:'eth_requestAccounts'});
  alert("Wallet connected:\n"+accounts[0]);
}
</script>

</body>
</html>
